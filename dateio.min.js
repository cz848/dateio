!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).dateio=n()}(this,(function(){"use strict";function t(){return(t=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}var n=function(t,n){return("00"+t).slice(-n||-2)},i=function(t){return[null,void 0].indexOf(t)<0},e=/MS|ms|[YMDWHISAUymdwhisau]/g,r=/^(?:MS|ms|[YMDWHISAUymdwhisau])$/,u=/^(?:ms|[Uymdwhisu])$/,s=/^([+-]?(?:\d*\.)?\d+)(ms|[ymdwhis])?$/,o={ms:1,s:1e3,i:6e4,h:36e5,d:864e5,w:6048e5,m:1,y:12},h={weekdays:["日","一","二","三","四","五","六"],meridiem:["凌晨","上午","下午","晚上"]},f=function(n){return h=t({},h,n)},a=function(t,n){return t.$date["get"+n]()+Number("Month"===n)},c=function(t,n,e){var r=e.filter(i);return r.length?function(t,n,i){var e;return i.some(isNaN)||("FullYear"===n&&i.length>1?i[1]-=1:"Month"===n&&(i[0]-=1),"Day"===n?t.add(i[0]-a(t,n),"d"):(e=t.$date)["set"+n].apply(e,i),"Month"===n&&1===i.length&&a(t,n)>i[0]%12+(i[0]<0?13:1)&&t.add("-"+t.d()+"d")),t}(t,n,r):a(t,n)},d=function(){function t(t){this.I18N=f(),this.init(t)}var h=t.prototype;return h.init=function(t){return this.$date=function(t){var n;return i(t)?("string"!=typeof t||/T.+(?:Z$)?/i.test(t)?Array.isArray(t)&&(t=(n=new Date(t.splice(0,3))).setHours.apply(n,t.concat(0))):t=t.replace(/-/g,"/"),new Date(t)):new Date}(t),this},h.y=function(t,n,i){return c(this,"FullYear",[t,n,i])},h.Y=function(){return n(this.y(),4)},h.m=function(t,n){return c(this,"Month",[t,n])},h.M=function(){return n(this.m())},h.d=function(t){return c(this,"Date",[t])},h.D=function(){return n(this.d())},h.w=function(t){return c(this,"Day",[t])},h.W=function(){return this.I18N.weekdays[this.w()]},h.h=function(t,n,i,e){return c(this,"Hours",[t,n,i,e])},h.H=function(){return n(this.h())},h.i=function(t,n,i){return c(this,"Minutes",[t,n,i])},h.I=function(){return n(this.i())},h.s=function(t,n){return c(this,"Seconds",[t,n])},h.S=function(){return n(this.s())},h.ms=function(t){return c(this,"Milliseconds",[t])},h.MS=function(){return n(this.ms(),3)},h.a=function(){var t=this.I18N.meridiem;return"function"==typeof t?t(this.h(),this.i()):t[Math.floor(this.h()/24*t.length)]},h.A=function(){return this.a().toUpperCase()},h.u=function(t){return i(t)?this.init(t):+this},h.U=function(t){return i(t)?this.init(1e3*t):Math.round(this/1e3)},h.get=function(t){return r.test(t)?this[t]():null},h.set=function(t,n,i,e,r){return u.test(t)?this[t](n,i,e,r):this},h.toDate=function(){return this.$date},h.toString=function(){return this.$date.toString()},h.valueOf=function(){return this.$date.valueOf()},h.clone=function(){return new t(+this)},h.format=function(t){var n=this;return String(t||"Y-M-D H:I:S").replace(e,(function(t){return n[t]()}))},h.startOf=function(t,n){var i="y m d h i s";if(!(i=i.slice(0,i.indexOf("w"===t?"d":t)+1)))return this;"w"===t&&this.w(n?6:0);var e=this.format(i).split(" "),r=[0,12,31,23,59,59,999];"m"===t&&(r[2]=this.daysInMonth());var u=n?r:[1,1];return this.init(e.concat(u.slice(e.length)))},h.endOf=function(t){return this.startOf(t,!0)},h.diff=function(n,i,e){void 0===e&&(e=!1);var r,u,s,h,f,a=new t(n),c=this-a;return/^[ym]$/.test(i)?(r=this,s=12*((u=a).y()-r.y())+(u.m()-r.m()),h=r.clone().add(s,"m"),f=r.clone().add(s+(u>h?1:-1),"m"),c=(-(s+(u-h)/Math.abs(f-h))||0)/o[i]):c/=o[i]||1,e?c:Math.trunc(c)},h.add=function(t,n){var i=String(t).match(s);if(!i)return this;var e=i[1],r=i[2],u=void 0===r?n||"ms":r;return/^[ym]$/.test(u)?this.m(this.m()+Number((e*o[u]).toFixed(0))):this.init(e*(o[u]||0)+this.valueOf())},h.subtract=function(t,n){return this.add("-"+t,n)},h.isLeapYear=function(){var t=this.y();return t%100?t%4==0:t%400==0},h.daysInMonth=function(){return this.m(this.m()+1,0).d()},h.isSame=function(n,i){return+this.clone().startOf(i)==+new t(n).startOf(i)},t}(),l=function(t){return new d(t)};return l.prototype=d.prototype,l.locale=f,l.U=function(t){return l(1e3*t)},l}));
