!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t=t||self).dateio=i()}(this,(function(){"use strict";function t(){return(t=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}var i=function(t){return![null,void 0].indexOf(t)>=0},e=/Mo|mo|MS|ms|[YMDWHISAUymdwhisau]/g,n=/^(?:Mo|mo|MS|ms|[YMDWHISAUymdwhisau])$/,s=/^(?:ms|[Uymdwhisu])$/,r=/^([+-]?(?:\d*\.)?\d+)(ms|[ymdwhis])?$/,h=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z?$/i,o={ms:1,s:1e3,i:6e4,h:36e5,d:864e5,w:6048e5,m:1,y:12},a={y:"FullYear",m:"Month",d:"Date",h:"Hours",i:"Minutes",s:"Seconds",ms:"Milliseconds"},u={months:["一","二","三","四","五","六","七","八","九","十","十一","十二"],monthsShort:[1,2,3,4,5,6,7,8,9,10,11,12],weekdays:["日","一","二","三","四","五","六"],interval:["凌晨","上午","下午","晚上"]},d=function(i){return u=t({},u,i)},f=function(){function t(t){this.I18N=d(),this.init(t)}var u=t.prototype;return u.init=function(t){var e=function(t){var e;return i(t)?"string"!=typeof t||/T.+(?:Z$)?/i.test(t)?Array.isArray(t)&&(t=(e=new Date(t.splice(0,3))).setHours.apply(e,t.concat(0))):t=t.replace(/-/g,"/"):t=Date.now(),new Date(t)}(t);if(this.$date=e,isNaN(e))return this;var n=this.I18N,s=n.months,r=n.monthsShort,o=n.weekdays,a=n.interval,u=new Date(+e-6e4*e.getTimezoneOffset()).toISOString().match(h),d=u[1],f=u[2],c=u[3],m=u[4],l=u[5],y=u[6],p=u[7];return this.Y=d,this.y=+d,this.M=f,this.m=+f,this.Mo=s[this.m-1],this.mo=r[this.m-1],this.D=c,this.d=+c,this.w=e.getDay(),this.W=o[this.w],this.H=m,this.h=+m,this.I=l,this.i=+l,this.S=y,this.s=+y,this.MS=p,this.ms=+p,this.a=a[Math.floor(this.h/24*a.length)],this.A=this.a.toUpperCase(),this.u=+e,this.U=Math.round(this.u/1e3),this},u.get=function(t){return void 0===t&&(t=""),n.test(t)?this[t]:void 0},u.set=function(t,e,n,r,h){var o;return void 0===t&&(t=""),s.test(t)&&i(e)&&!isNaN(e)?"w"===t?this.add(e-this.w,"d"):/u/i.test(t)?this.init(e*("U"===t?1e3:1)):("y"===t&&n?n-=1:"m"===t&&(e-=1),(o=this.$date)["set"+a[t]].apply(o,[e,n,r,h].filter(i)),this.init(this.$date)):this},u.toDate=function(){return this.$date},u.toString=function(){return this.$date.toString()},u.valueOf=function(){return+this.$date},u.clone=function(){return new t(+this.$date)},u.format=function(t){var i=this;return String(t||"Y-M-D H:I:S").replace(e,(function(t){return i[t]}))},u.startOf=function(t,i){var e="y m d h i s";if(!(e=e.slice(0,e.indexOf("w"===t?"d":t)+1)))return this;"w"===t&&this.set("w",i?6:0);var n=this.format(e).split(" "),s=[0,12,31,23,59,59,999];"m"===t&&(s[2]=this.daysInMonth());var r=i?s:[1,1];return this.init(n.concat(r.slice(n.length)))},u.endOf=function(t){return this.startOf(t,!0)},u.diff=function(i,e,n){void 0===n&&(n=!1);var s,r,h,a,u,d=new t(i),f=(s=this,h=12*((r=d).y-s.y)+(r.m-s.m),a=s.clone().add(h,"m"),u=s.clone().add(h+(r>a?1:-1),"m"),-(h+(r-a)/Math.abs(u-a))||0),c=this-d;return/^[ym]$/.test(e)?c=f/o[e]:c/=o[e]||1,n?c:parseInt(c,10)},u.add=function(t,i){var e=String(t).match(r);if(!e)return this;var n=e[1],s=e[2],h=void 0===s?i||"ms":s;return/^[ym]$/.test(h)?this.set("m",this.get("m")+Number((n*o[h]).toFixed(0))):this.init(n*(o[h]||0)+this.valueOf())},u.subtract=function(t,i){return this.add("-"+t,i)},u.isLeapYear=function(){var t=this.get("y");return t%100?t%4==0:t%400==0},u.daysInMonth=function(){return[31,28+Number(this.isLeapYear()),31,30,31,30,31,31,30,31,30,31][this.get("m")-1]},u.isSame=function(i,e){return+this.clone().startOf(e)==+new t(i).startOf(e)},t}(),c=function(t){return new f(t)};return c.prototype=f.prototype,c.locale=d,c}));
