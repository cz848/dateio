!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).dateio=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function i(t,n){return("00"+t).slice(-n||-2)}function h(t){return t.replace(/^[a-z]/,function(t){return t.toUpperCase()})}function f(t){return![null,void 0].includes(t)}function e(t){return c=n({},c,t)}function r(t,n,i){var e,r,u,s,o,a=i.filter(f);return a.length?(r=t,u=n,(s=a).some(isNaN)||("fullYear"===u&&1<s.length?--s[1]:"month"===u&&--s[0],"day"===u?r.add(s[0]-r.w(),"d"):(o=r.$date)["set"+h(u)].apply(o,s)),r):(e=n,t.$date["get"+h(e)]()+Number("month"===e))}function t(t){return new l(t)}var u=/MS|ms|[YMDWHISAUymdwhisau]/g,s=/^(?:MS|ms|[YMDWHISAUymdwhisau])$/,o=/^(?:ms|[Uymdwhisu])$/,a=/^([+-]?(?:\d*\.)?\d+)(ms|[ymdwhis])?$/,d={ms:1,s:1e3,i:6e4,h:36e5,d:864e5,w:6048e5,m:1,y:12},c={weekdays:["日","一","二","三","四","五","六"],interval:["凌晨","上午","下午","晚上"]},l=function(){function c(t){this.I18N=e(),this.init(t)}var t=c.prototype;return t.init=function(t){var n,i,e;return this.$date=(f(e=n=t)?"string"!=typeof n||/T.+(?:Z$)?/i.test(n)?Array.isArray(n)&&(e=(i=new Date(n.splice(0,3))).setHours.apply(i,n.concat(0))):e=n.replace(/-/g,"/"):e=Date.now(),new Date(e)),this},t.y=function(t,n,i){return r(this,"fullYear",[t,n,i])},t.Y=function(){return i(this.y(),4)},t.m=function(t,n){return r(this,"month",[t,n])},t.M=function(){return i(this.m())},t.d=function(t){return r(this,"date",[t])},t.D=function(){return i(this.d())},t.w=function(t){return r(this,"day",[t])},t.W=function(){return this.I18N.weekdays[this.w()]},t.h=function(t,n,i,e){return r(this,"hours",[t,n,i,e])},t.H=function(){return i(this.h())},t.i=function(t,n,i){return r(this,"minutes",[t,n,i])},t.I=function(){return i(this.i())},t.s=function(t,n){return r(this,"seconds",[t,n])},t.S=function(){return i(this.s())},t.ms=function(t){return r(this,"milliseconds",[t])},t.MS=function(){return i(this.ms(),3)},t.a=function(){return this.I18N.interval[Math.floor(this.h()/24*this.I18N.interval.length)]},t.A=function(){return this.a().toUpperCase()},t.u=function(t){return f(t)?this.init(t):+this},t.U=function(t){return f(t)?this.init(1e3*t):Math.round(this/1e3)},t.get=function(t){return void 0===t&&(t=""),s.test(t)?this[t]():void 0},t.set=function(t,n,i,e,r){return void 0===t&&(t=""),o.test(t)?this[t](n,i,e,r):this},t.toDate=function(){return this.$date},t.toString=function(){return this.$date.toString()},t.valueOf=function(){return this.$date.valueOf()},t.clone=function(){return new c(+this)},t.format=function(t){var n=this;return String(t||"Y-M-D H:I:S").replace(u,function(t){return n[t]()})},t.startOf=function(t,n){var i="y m d h i s";if(!(i="y m d h i s".slice(0,"y m d h i s".indexOf("w"===t?"d":t)+1)))return this;"w"===t&&this.w(n?6:0);var e=this.format(i).split(" "),r=[0,12,31,23,59,59,999];"m"===t&&(r[2]=this.daysInMonth());var u=n?r:[1,1];return this.init(e.concat(u.slice(e.length)))},t.endOf=function(t){return this.startOf(t,!0)},t.diff=function(t,n,i){void 0===i&&(i=!1);var e,r,u,s,o,a=new c(t),h=(e=this,u=12*((r=a).y()-e.y())+(r.m()-e.m()),s=e.clone().add(u,"m"),o=e.clone().add(u+(s<r?1:-1),"m"),-(u+(r-s)/Math.abs(o-s))||0),f=this-a;return/^[ym]$/.test(n)?f=h/d[n]:f/=d[n]||1,i?f:Math.trunc(f)},t.add=function(t,n){var i=String(t).match(a);if(!i)return this;var e=i[1],r=i[2],u=void 0===r?n||"ms":r;return/^[ym]$/.test(u)?this.m(this.m()+Number((e*d[u]).toFixed(0))):this.init(e*(d[u]||0)+this.valueOf())},t.subtract=function(t,n){return this.add("-"+t,n)},t.isLeapYear=function(){var t=this.y();return t%100?t%4==0:t%400==0},t.daysInMonth=function(){return[31,28+Number(this.isLeapYear()),31,30,31,30,31,31,30,31,30,31][this.m()-1]},t.isSame=function(t,n){return+this.clone().startOf(n)==+new c(t).startOf(n)},c}();return t.prototype=l.prototype,t.locale=e,t});
