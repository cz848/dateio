!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).dateio=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}function r(t,n){return("00"+t).slice(-n||-2)}function f(t){return t.replace(/^[a-z]/,function(t){return t.toUpperCase()})}function d(t){return![null,void 0].includes(t)}function e(t){return h=n({},h,t)}function i(t,n,r){var e,i,s,u,o,a,h=Array.isArray(r)?r:Array.of(r);return(a=h).length&&a.every(d)?(i=t,s=n,(u=h).some(isNaN)||("fullYear"===s&&1<u.length?--u[1]:"month"===s&&--u[0],"day"===s?i.add(u[0]-i.w(),"d"):(o=i.$date)["set"+f(s)].apply(o,u)),i):(e=n,t.$date["get"+f(e)]()+Number("month"===e))}function t(t){return new c(t)}var s=/MS|ms|[YMDWHISAUymdwhisau]/g,u=/^(?:MS|ms|[YMDWHISAUymdwhisau])$/,o=/^(?:ms|[Uymdwhisu])$/,a=/^([+-]?(?:\d*\.)?\d+)(ms|[ymdwhis])?$/,l={ms:1,s:1e3,i:6e4,h:36e5,d:864e5,w:6048e5,m:1,y:12},h={weekdays:["日","一","二","三","四","五","六"],interval:["凌晨","上午","下午","晚上"]},c=function(){function c(t){this.I18N=e(),this.init(t)}var t=c.prototype;return t.init=function(t){var n,r,e;return this.$date=(d(e=n=t)?"string"!=typeof n||/T.+(?:Z$)?/i.test(n)?Array.isArray(n)&&(e=(r=new Date(n.splice(0,3))).setHours.apply(r,n.concat(0))):e=n.replace(/-/g,"/"):e=Date(),new Date(e)),this},t.y=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i(this,"fullYear",n)},t.Y=function(){return r(this.y(),4)},t.m=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i(this,"month",n)},t.M=function(){return r(this.m())},t.d=function(t){return i(this,"date",t)},t.D=function(){return r(this.d())},t.w=function(t){return i(this,"day",t)},t.W=function(){return this.I18N.weekdays[this.w()]},t.h=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i(this,"hours",n)},t.H=function(){return r(this.h())},t.i=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i(this,"minutes",n)},t.I=function(){return r(this.i())},t.s=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i(this,"seconds",n)},t.S=function(){return r(this.s())},t.ms=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i(this,"milliseconds",n)},t.MS=function(){return r(this.ms(),3)},t.a=function(){return this.I18N.interval[Math.floor(this.h()/24*this.I18N.interval.length)]},t.A=function(){return this.a().toUpperCase()},t.u=function(t){return d(t)?this.init(t):+this},t.U=function(t){return d(t)?this.init(1e3*t):Math.round(this/1e3)},t.get=function(t){return void 0===t&&(t=""),u.test(t)?this[t]():void 0},t.set=function(t){void 0===t&&(t="");for(var n=arguments.length,r=new Array(1<n?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return o.test(t)?this[t].apply(this,r):this},t.toDate=function(){return this.$date},t.toString=function(){return this.$date.toString()},t.valueOf=function(){return this.$date.valueOf()},t.clone=function(){return new c(+this)},t.format=function(t){var n=this;return String(t||"Y-M-D H:I:S").replace(s,function(t){return n[t]()})},t.startOf=function(t,n){var r="y m d h i s";if(!(r="y m d h i s".slice(0,"y m d h i s".indexOf("w"===t?"d":t)+1)))return this;"w"===t&&this.w(n?6:0);var e=this.format(r).split(" "),i=[0,12,31,23,59,59,999];"m"===t&&(i[2]=this.daysInMonth());var s=n?i:[1,1];return this.init(e.concat(s.slice(e.length)))},t.endOf=function(t){return this.startOf(t,!0)},t.diff=function(t,n,r){void 0===r&&(r=!1);var e,i,s,u,o,a=new c(t),h=(e=this,s=12*((i=a).y()-e.y())+(i.m()-e.m()),u=e.clone().add(s,"m"),o=e.clone().add(s+(u<i?1:-1),"m"),-(s+(i-u)/Math.abs(o-u))||0),f=this-a;return/^[ym]$/.test(n)?f=h/l[n]:f/=l[n]||1,r?f:Math.trunc(f)},t.add=function(t,n){var r=String(t).match(a);if(!r)return this;var e=r[1],i=r[2],s=void 0===i?n||"ms":i;return/^[ym]$/.test(s)?this.m(this.m()+Number((e*l[s]).toFixed(0))):this.init(e*(l[s]||0)+this.valueOf())},t.subtract=function(t,n){return this.add("-"+t,n)},t.isLeapYear=function(){var t=this.y();return t%100?t%4==0:t%400==0},t.daysInMonth=function(){return[31,28+Number(this.isLeapYear()),31,30,31,30,31,31,30,31,30,31][this.m()-1]},t.isSame=function(t,n){return+this.clone().startOf(n)==+new c(t).startOf(n)},c}();return t.prototype=c.prototype,t.locale=e,t});
